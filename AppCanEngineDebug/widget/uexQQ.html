<!DOCTYPE HTML>
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<link rel="stylesheet" type="text/css" href="css/index.css">
	
	<script type="text/javascript">
	var cText = 0;
	var cJson = 1;
	var cInt = 2;
	var appId = "222222";
	
	window.uexOnload = function(){
        uexQQ.cbGetUserInfo = function(opId,dataType,data) {
        	alert("cbGetUserInfo:"+data);
        }
        uexQQ.cbLogin = function(opId, dataType, data){
            document.getElementById("login").innerHTML = data;
        }
        uexQQ.cbShareQQ = function(opId, dataType, data){
            alert("cbShareQQ:" + data);
        }
        uexQQ.cbIsQQInstalled = function(opId,dataType,data) {
        	alert("cbIsQQInstalled:"+data);
        }
      }
      
      function login(){
          uexQQ.login(appId);
      }
      
      function shareWebImgTextToQQ(){
          var json = '{"title":"图文分享标题","summary":"图文分享消息摘要","targetUrl":"http://appcan.cn","imageUrl":"res://aa.jpg","appName":"uexQQ", "cflag":"1"}';
          uexQQ.shareWebImgTextToQQ(appId, json);
      }

      function shareLocalImgToQQ(){
          var json = '{"imageLocalUrl":"res://aa.jpg","appName":"uexQQ"}';
          uexQQ.shareLocalImgToQQ(appId, json);
      }
      
      function shareAudioToQQ(){
          var json = '{"title":"音乐分享标题","summary":"音乐分享消息摘要","targetUrl":"http://appcan.cn","imageUrl":"http://imgcache.qq.com/qzone/space_item/pre/0/66768.gif","appName":"uexQQ", "audio_url":"http://pan.baidu.com/share/link?shareid=1055030794&uk=2337020227","cflag":"2"}';
          uexQQ.shareAudioToQQ(appId, json);
      }
      
      function shareAppToQQ(){
          var json = '{"title":"应用分享标题","summary":"应用分享消息摘要","imageUrl":"res://aa.jpg","appName":"uexQQ","cflag":"1"}';
          uexQQ.shareAppToQQ(appId, json);
      }
      
      function shareImgTextToQZone(){
          var json = '{"title":"空间分享标题","summary":"空间分享消息摘要","targetUrl":"http://appcan.cn","imageUrl":["res://aa.png", "res://aa.jpg", "res://bb.png"]}';
          uexQQ.shareImgTextToQZone(appId, json);
      }
       function getUserInfo(){
          //var json = '{"oauth_consumer_key":"100330589","access_token":"3ABA05AF8C3638D2F8B8229848031E38","openid":"C9C9F1D2285220AE46B53774376D16F8"}';
          var json = '{"oauth_consumer_key":"100330589","access_token":"3ABA05AF8C3638D2F8B8229848031E38","openid":"C9C9F1D2285220AE46B53774376D16F8"}';
          uexQQ.getUserInfo(json);
      }
      
</script>
</head>

<body>
	<div class="tit">Qzone分享</div>
    <!-- 登录 -->
    <div class="conbor">
        <div class="consj">
            <input class="btn" type="button" value="QQ登录" onclick="login()">
            <input class="btn" type="button" value="QQ安装检测" onclick="uexQQ.isQQInstalled();">
            <div class="tcxx" id="login"></div><br>
        </div>
    </div>

	<!-- 图文分享 -->
	<div class="conbor">
		<div class="consj">
            <input class="btn" type="button" value="web图文分享" onclick="shareWebImgTextToQQ()">
            <input class="btn" type="button" value="纯图分享" onclick="shareLocalImgToQQ()">
            <input class="btn" type="button" value="音乐分享" onclick="shareAudioToQQ()">
            <input class="btn" type="button" value="应用分享" onclick="shareAppToQQ()">
            <input class="btn" type="button" value="图文分享到空间" onclick="shareImgTextToQZone()">
            <input class="btn" type="button" value="获取用户信息" onclick="getUserInfo()">
		</div>
	</div>	
</body>
</html>
