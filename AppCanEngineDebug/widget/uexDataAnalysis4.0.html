<!DOCTYPE HTML><html>    <head>    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />    <meta name="viewport" content="target-densitydpi=device-dpi, width=device-width, initial-scale=1.0, user-scalable=no"    />    <link rel="stylesheet" type="text/css" href="css/index.css">    <script type="text/javascript">        //自定义次数事件        function setEvent() {            //report             var eventId = "EventClickId_001";//需要在平台注册            var customParams = '{"id":"EventClickId_001","param1":"value1","test":"66666"}';//可选参数，用于传递自定义参数            console.log("setEvent "+ eventId);            uexDataAnalysis.setEvent(eventId, customParams);        }		//自定义时长事件开始        function beginEvent() {            //uexDataAnalysis.beginEvent(inEventId,[inKeyWord,inAttri]);            //inEventId 从AppCan平台注册；            //inKeyWord 自行命名以区别注册统一EventId上报数据，从而可以处理相同的eventId可能会同时发生计时事件。在客户端认为inEventid 与inkeyword 共同组成唯一的键，但在服务器段识别EventId为唯一键，不受影响；[可选]            //inAttri  自定义事件属性；json字符串；[可选]            var eventId = "EventDurationId_001";//需要在平台注册            var keyWord = "testKey";            var customParams = '{"id":"EventDurationId_001","param1":"value1","test":"55555"}';//可选参数，用于传递自定义参数            console.log("beginEvent "+ eventId);            uexDataAnalysis.beginEvent(eventId, keyWord, customParams);        }        //自定义时长事件结束        function endEvent() {            //uexDataAnalysis.endEvent(inEventId,[inKeyWord]);            //传入的Id和keyword应该是你想要结束并记录事件的那个当时begin传入的eventId和keyWord            //inEventId 从AppCan平台注册；            //inKeyWord 自行命名以区别注册统一EventId上报数据，从而可以处理相同的eventId可能会同时发生计时事件。在客户端认为inEventid 与inkeyword 共同组成唯一的键，但在服务器段识别EventId为唯一键，不受影响；[可选]        	var eventId = "EventDurationId_001";//需要在平台注册            var keyWord = "testKey";            console.log("endEvent "+ eventId);            uexDataAnalysis.endEvent(eventId, keyWord);        }		//设置数据统计相关参数，有默认值，可以不调用        function setAnalyticsOptions(){        	<!--var options = '{"strategy":"0","isErrorReport":"true","sessionInterval":"1"}';-->        	var options = {        	                strategy:"0",        	                isErrorReport:"true",        	                sessionInterval:"1"        	              };        	uexDataAnalysis.setAnalyticsOptions(JSON.stringify(options));        }        //设置租户ID，不设置的话默认会取协同开发打包配置的租户ID或者通过EMM设置的租户ID，都取不到就上报空租户ID        function setTenantId(){        	var tenantId = document.getElementById("tenantId").value;        	uexDataAnalysis.setTenantId(tenantId);        	alert("租户标识："+tenantId+" 被设置");        }        //动态设置统计分析对接后台接口，会覆盖打包配置的统计分析接口。如果设置为空字符串，或者不设置，则默认使用打包配置的。        function setHost(){            var host = document.getElementById("host").value;            console.log("setHost==="+host);            var param = {                          "host":host                        };            var result = uexDataAnalysis.setHost(JSON.stringify(param));            //alert("setHost result(老引擎不支持return，故返回undefined):" + result);        }        //获取当前对接的统计分析后台地址        function getHost(){            uexDataAnalysis.cbGetHost = function(data){                alert(JSON.stringify(data));            }            var result = uexDataAnalysis.getHost();            //alert("getHost result(老引擎不支持return，故返回undefined):" + result);        }        //卡片统计次数统计        function setEvent_CardAnalysis(){        	var cardId = document.getElementById("cardId").value;        	var cardName = document.getElementById("cardName").value;        	var eventId = "_AppCanEventCard";//卡片事件统一ID            var customParams = '{"'+cardId+'":"'+cardName+'"}';//可选参数，用于传递自定义参数            console.log("setEvent "+ eventId+" "+cardId+" "+cardName);            uexDataAnalysis.setEvent(eventId, customParams);        }        //卡片统计时长统计开始（后台不统计时长，可以不使用）        function beginEvent_CardAnalysis(){            //uexDataAnalysis.beginEvent(inEventId,[inKeyWord,inAttri]);            //inEventId 卡片数据统计固定的eventId为_AppCanEventCard            //inKeyWord 自行命名以区别注册统一EventId上报数据，从而可以处理相同的eventId可能会同时发生计时事件。在客户端认为inEventid 与inkeyword 共同组成唯一的键，但在服务器段识别EventId为唯一键，不受影响；[可选]            //inAttri  自定义事件属性；json字符串；[可选]        	var cardId = document.getElementById("cardId").value;        	var cardName = document.getElementById("cardName").value;            var eventId = "_AppCanEventCard";//卡片事件统一ID            var keyWord = "testKey"+cardId;            var customParams = '{"'+cardId+'":"'+cardName+'"}';//可选参数，用于传递自定义参数            console.log("beginEvent "+ eventId+" "+cardId+" "+cardName);            uexDataAnalysis.beginEvent(eventId, keyWord, customParams);        }        //卡片统计时长统计结束（后台不统计时长，可以不使用）        function endEvent_CardAnalysis(){        	//uexDataAnalysis.endEvent(inEventId,[inKeyWord]);            //传入的Id和keyword应该是你想要结束并记录事件的那个当时begin传入的eventId和keyWord            //inEventId 从AppCan平台注册；            //inKeyWord 自行命名以区别注册统一EventId上报数据，从而可以处理相同的eventId可能会同时发生计时事件。在客户端认为inEventid 与inkeyword 共同组成唯一的键，但在服务器段识别EventId为唯一键，不受影响；[可选]        	var eventId = "_AppCanEventCard";//卡片事件统一ID            var keyWord = "testKey"+cardId;            console.log("endEvent "+ eventId);            uexDataAnalysis.endEvent(eventId, keyWord);        }                function testCrash(type){        	if(type == -1){        		uexDataAnalysis.testCrash();        	}else{        		uexDataAnalysis.testCrash(type);        	}        }        window.uexOnload = function() {            uexWidgetOne.cbError = function(opid, type, error) {                alert(error);            }            uexDataAnalysis.cbSetAnalyticsOptions = function(opid, type, data) {                alert("uexDataAnalysis.cbSetAnalyticsOptions "+data);            }            uexDataAnalysis.cbSetTenantId = function(opid, type, data) {                alert("uexDataAnalysis.cbSetTenantId "+data);            }        }    </script></head><body>	<div class="tit">uexDataAnalysis4.0 API接口测试例子</div>    <div class="conbor">        <div class="consj">        	<span>setEvent接口用来生成一个自定义的点击事件（或者可以认为是单纯记录某个自定义行为发生次数的事件）。</span>        	<span>在这个例子中的eventId为EventClickId_001，需要在平台注册此ID方可在平台处理</span>            <input class="btn" type="button" value="setEvent" onclick="setEvent();">        	<span>beginEvent接口用来生成一个自定义的时长事件（或者可以认为是记录某个自定义行为持续时长的事件）。</span>        	<span>在这个例子中的eventId为EventDurationId_001，需要在平台注册此ID方可在平台处理</span>            <input class="btn" type="button" value="beginEvent" onclick="beginEvent();">        	<span>endEvent接口用来结束一个自定义的时长事件（这个接口用来完成beginEvent接口生成的事件，记录和准备上报）。</span>        	<span>在这个例子中的eventId为EventDurationId_001，与beginEvent对应，可以配合一起测试一个完整的自定义时长事件</span>            <input class="btn" type="button" value="endEvent" onclick="endEvent();">        	<span>setAnalyticsOptions接口用来设置一些数据统计的参数，例如上报策略，错误上报开关等。默认上报策略为启动时上报，崩溃日志上报开关开启。</span>            <input class="btn" type="button" value="setAnalyticsOptions" onclick="setAnalyticsOptions();">        	<span>setTenantId接口用来手动设置租户Id（仅限于不依赖uexEMM插件单独使用数据统计插件时并且不是SAAS应用时使用）。</span>        	<input class="textbox" type="text" value="cake" id="tenantId">            <input class="btn" type="button" value="设置租户ID" onclick="setTenantId();">            <span>setHost和getHost接口用来设置和获取数据统计对接后台接口，会覆盖打包配置的统计分析接口。如果设置为空字符串，或者不设置，则默认使用打包配置的。。</span>            <input class="textbox" type="text" value="http://192.168.4.184:8080/4.0/service/" id="host">            <input class="btn" type="button" value="设置数据统计对接后台接口" onclick="setHost();">            <input class="btn" type="button" value="获取当前对接的数据统计后台接口" onclick="getHost();">                    	<span>下面为卡片数据统计测试case</span>            <input class="textbox" id="cardId" type="text" value="cardID_1">            <input class="textbox" id="cardName" type="text" value="测试卡片_1">            <input class="btn" type="button" value="生成卡片点击事件" onclick="setEvent_CardAnalysis();">            <input class="btn" type="button" value="生成卡片时长事件-开始" onclick="beginEvent_CardAnalysis();">            <input class="btn" type="button" value="生成卡片时长事件-结束" onclick="endEvent_CardAnalysis();">        	        	<span>下面为主动崩溃的测试case，为了测试崩溃日志</span>            <input class="btn" type="button" value="生成数组越界" onclick="testCrash(-1);">            <input class="btn" type="button" value="生成空指针" onclick="testCrash(0);">            <input class="btn" type="button" value="生成另一个空指针" onclick="testCrash(1);">            <input class="btn" type="button" value="生成除数不能为0" onclick="testCrash(2);">        </div>        <input class="btn" type="button" value="返回" onclick="uexWindow.close();">    </div></body></html>